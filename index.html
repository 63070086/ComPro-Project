<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
</head>
<body>
    <div class="nav">
        <a href="#page1">Home</a>
        <a href="#page2">Equipment</a>
        <a href="#page3">Process</a>
        <a href="#page4">Composition</a>
        <a href="#page5">Benefit</a>
    </div>
    <div class="page1" id="page1">
        <div class="show">
            <h1>Super Ultra Line Mail Box Smart</h1>
            <button onclick="show()">About It</button>
        </div>
        <div class="about" id="about">
            <h1>Super Ultra Line Mail Box Smart</h2>
            <p>เป็นกล่องไปรษณีย์ที่มีการตรวจจับว่ามีซองจดหมายถูกส่งมาหรือไม่เมื่อมีซองจดหมายถูกส่งมาจะแจ้งเตือนเข้าในline notification <br>
                มีตัวกล่องไปษณีย์และวงจรตรวจจับข้างในใช้ Breadboard NodeMCU WIfi Module ir infrared obstacle avoidance sensor module <br>
                สามารถนำไปต่อยอดได้ในระบบอุตสาหกรรมในกระบวนการผลิด หรือการนับจำนวนคนที่เข้าทำงาน เป็นต้น</p>
        </div>
        <div class="bg1"></div>
    </div>
    <div class="page2" id="page2">
        <div class="composition">
            <div class="box" id="box">
                <img src="png/ir.png" alt="">
                <h4 id="name_compo">ir infrared obstacle avoidance sensor module</h1>
            </div>
            <div class="box" id="box">
                <img src="png/line.png" alt="">
                <h4 id="name_compo">jumpline</h1>
            </div>
            <div class="box" id="box">
                <img src="png/node.png" alt="">
                <h4 id="name_compo">nodemcu v3 ch340 lua wifi esp8266</h1>
            </div>
            <div class="box" id="box">
                <img src="png/bb.png" alt="">
                <h4 id="name_compo">breadboard 400 points</h1>
            </div>
        </div>
        <div class="bg2"></div>
    </div>
    <div class="page3" id="page3">
        <div class="select">
            <div class="choice" onclick="slide(0)">1</div>
            <div class="choice" onclick="slide(1)">2</div>
            <div class="choice" onclick="slide(2)">3</div>
            <div class="choice" onclick="slide(3)">4</div>
            <div class="choice" onclick="slide(4)">5</div>
        </div>
        <div class="process">
            <div class="plate" id="plate">1ใส่รูป
                <img src="png/process1.jpg" alt="">
                <div class="footer">1.นำสาย USB ต่อกับคอมเพื่ออัปโหลดโค้ลลงบอร์ด</div>
            </div>
            <div class="plate" id="plate">2ใส่รูป
                <img src="png/process2.jpg" alt="">
                <div class="footer">2.ใส่ชื่อ WIFI และ รหัส กับ Line token ซึ่งสามารถกดขอได้จาก https://notify-bot.line.me/my/</div>
            </div>
            <div class="plate" id="plate">3ใส่รูป
                <img src="png/process3.jpg" alt="">
                <div class="footer">3.กดอัปโหลด และ รอจนเสร็จ</div>
            </div>
            <div class="plate" id="plate">4ใส่รูป
                <img src="png/process4.jpg" alt="">
                <div class="footer">4.ลองนำจดหมายใส่เข้าไปใน ตู้ไปรษณีย์</div>
            </div>
            <div class="plate" id="plate">5ใส่รูป
                <img src="png/process5.jpg" alt="">
                <div class="footer">5.ใลน์ทำการแจ้งเตือนเมื่อจดหมายถูกตรวจจับแล้ว</div>
            </div>
        </div>
        <div class="bg3"></div>
    </div>
    <div class="page4" id="page4">
        <div class="bg4"></div>
        <div class="code">
            <div class="unit">
                <div class="topic">Code</div>
                <div class="topic">Code</div>
            </div>

            <div class="text_code">
                <pre>void Line_Notify(String message) ;
#include <string.h>
#include <ESP8266WiFi.h>
#include <WiFiClientSecureAxTLS.h> 


#define WIFI_SSID "toen_teen_2.4G"
#define WIFI_PASSWORD "0636511325"


#define LINE_TOKEN "4RJvCVMeoUV2QLZxL8nUoDER1QYEfKlLBLFN3jWHyUH"
int check = 0;
int value = 0;





void setup() {
  
  pinMode(D6, INPUT);

  Serial.begin(9600);

  WiFi.mode(WIFI_STA);
  // connect to wifi.
  WiFi.begin(WIFI_SSID, WIFI_PASSWORD);
  Serial.print("connecting");

  while (WiFi.status() != WL_CONNECTED) {
    Serial.print(".");
    delay(500);
  }
  Serial.println();
  Serial.print("connected: ");
  Serial.println(WiFi.localIP());
}

void loop() {
   int sensorValue = digitalRead(D6);

  if (sensorValue == 0) {
    Serial.print("sensorValue");
    Serial.println(sensorValue);
    Serial.print("check");
    Serial.println(check);
    Serial.println("state 1");
    value += 1;
    char message[] = "ได้รับของจำนวน  ";
    char str[100];
    char message2[] = " ชิ้น";
    sprintf(str, "%d", value);
    strcat(str, message2);
    strcat(message, str);
    Line_Notify(message);
  }
  Serial.println(sensorValue);
  delay(1000);
}

void Line_Notify(String message) {
  axTLS::WiFiClientSecure client; 

  if (!client.connect("notify-api.line.me", 443)) {
    Serial.println("connection failed");
    return;   
  }

  String req = "";
  req += "POST /api/notify HTTP/1.1\r\n";
  req += "Host: notify-api.line.me\r\n";
  req += "Authorization: Bearer " + String(LINE_TOKEN) + "\r\n";
  req += "Cache-Control: no-cache\r\n";
  req += "User-Agent: ESP8266\r\n";
  req += "Connection: close\r\n";
  req += "Content-Type: application/x-www-form-urlencoded\r\n";
  req += "Content-Length: " + String(String("message=" + message).length()) + "\r\n";
  req += "\r\n";
  req += "message=" + message;
  // Serial.println(req);
  client.print(req);
    
  delay(20);

  // Serial.println("-------------");
  while(client.connected()) {
    String line = client.readStringUntil('\n');
    if (line == "\r") {
      break;
    }
    //Serial.println(line);
  }
  // Serial.println("-------------");
}
</pre>
            </div>
        </div>
    </div>
    <div class="page5" id="page5">
        <div class="bg5"></div>
    </div>
</body>
</html>
<!-- อธิบายว่าคืออะไร 
    มีองค์ประกอบอะไรบ้าง 
    ทำงานอย่างไร 
    ใช้อะไรบ้างในการพัฒนาขึ้นมา
    และมีประโยชน์อย่างไร -->
